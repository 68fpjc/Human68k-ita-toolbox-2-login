※敬称は省略しています



Version 0.6

* ログイン名入力時, 8文字を超える分はエコーバックしない。

* ログイン名入力時の行編集機能に、^Hと^?をerase文字、^Wをwerase文字、^Rを
  redraw文字として追加した。

* ログイン名入力時の^Uは改行せずにkillするようにした。

* ログイン名入力時、^Zは通常の文字として処理するようにした。

* ログイン名入力時、^Cで終了するようにした。

* パスワード入力時の行編集機能に、^Hと^?をerase文字、^Wをwerase文字、^Uを
  kill文字として追加した。

* BSSがきちんと確保されていなかったのを修正。

Version 0.5

* ユーザの環境に UID と GID を加えた。

* ユーザのシェルへの引数0として‘-<shell>[<logname>]’を与えるようにした。
  ここで <shell> はユーザのシェルのパス名のファイル名部分（拡張子も含む）、
  <logname> はユーザのログイン名。

Version 0.4

* ドキュメントを加筆修正した。

* その他いくつかの些細な修正を行った。

* ログイン後に login.x が占有するメモリ量を少くした。

* 暗号化パスワードに対応した。ただしまだ期限管理は行っていない。

* ユーザのシェルへの引数0として‘-’を与えるようにした。

* motd 出力中に ^C が押されてもログイン処理を継続するよう改めた。

* ユーザのホーム・ディレクトリに移動できない場合には $SYSROOT をユーザのホー
  ム・ディレクトリとしてログインを許可するようにした。

* ユーザの環境変数 HOME と SHELL をセットする際、/ を \ に置き換えるのをや
  め、passwd ファイルの記述のままセットするようにした。

* ユーザ id が 0 ならば $SYSROOT/etc/nologin があってもログインを許可するよ
  う改めた。

* ログイン名にすべての文字を使用できるようにした。ただし '-' で始まるログイ
  ン名を与えられたときにはエラーメッセージを出力するようにした。

* 与えられたログイン名は最初の８文字だけを有効とするようにした。

* 与えられたログイン名の前後の空白を削除するのをやめた。

* ログイン名の入力を DOS _GETS ではなく DOS _INKEY のループによって行うよう
  にした。入力の終わりは CR かまたは LF。^D と ^Z は login を終了し、^C と
  ^U はkill文字（行のキャンセル）として認識する。その他の文字はすべてログイ
  ン名の一部として入力する。

* login 終了時には login 起動時の作業ディレクトリに戻ってから終了するように
  した。

* 親プロセスがなくても終了するよう改めた。また、ユーザのシェルが終了したら
  login も終了するように改めた。

* $HOME/.hushlogin を $HOME/%hushlogin と同様に認めるようにした。

* DecodeHUPAIRの変更。

* fgetpwnamの変更。

* getpassの変更（FGETCではなくINKEYを使う，CR と LF の両方を行末文字として
  認める，行末文字を入力するまで決して帰らない）。

Version 0.3  

*  DecodeHUPAIRの変更。

Version 0.2

* その他いくつかの些細な修正。

* ファイル $SYSROOT/etc/nologin が存在しているときにはログインできないよう
  にした。

* -p オプションを加えた。

* 引数でユーザの環境を定義できるようにした。

* ログイン名を指定する引数を解釈するようにした。

* デフォルトのシェルを $SYSROOT/bin/COMMAND.X に変更。

* ユーザのホーム・ディレクトリにファイル %hushlogin が無ければログイン時に
  $SYSROOT/etc/motd の内容を表示するようにした。

* ユーザの環境 LOGNAME, USER, HOME, SHELL をセットするようにした。

* ログインの際には $SYSROOT/etc/passwd に記述されているとおり，ユーザのホー
  ム・ディレクトリに移動し，ユーザのシェルを起動するようにした。

* パスワード・フィールドが空ならばパスワードを問い合わせないようにした。

* 入力されたログイン名が空または空白のみのときは再びログイン名を問い合わせ
  るようにした。

* $SYSROOT/etc/passwd を照合してログインを許可／不許可するようにした。ただ
  しパスワードは単純に比較するのみであり，暗号化／復号は行わない。

* 環境変数 SYSROOT に対応。

Version 0.1

* 親プロセスがある（ユーザ・プログラムから起動された）場合には ^C で終了す
  るようにした。

Version 0.0

* 作成。ログイン名とパスワードを問い合わせた後，ただ単に A:/bin/fish.x を起
  動するのみ。

